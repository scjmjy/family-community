'multipart/form-data; boundary=----WebKitFormBoundarysBXsiFcA9EctGnXo'
------WebKitFormBoundarysBXsiFcA9EctGnXo
\r\n
Content-Disposition: form-data; name="familyname"
\r\n\r\n
小明的家
\r\n
------WebKitFormBoundarysBXsiFcA9EctGnXo
\r\n
Content-Disposition: form-data; name="description"
\r\n\r\n
这里是小明的家啊
\r\n
------WebKitFormBoundarysBXsiFcA9EctGnXo
\r\n
Content-Disposition: form-data; name="image"; filename="blob"
\r\n
Content-Type: image/png
\r\n\r\n
�PNG\r\n\n\rIHDR,,y}�u IDATx^�i�fYU&��7w���9�d��I��%��@)�6vQ����eY�]U�ϣ��Р�`!���RI� ʔ�d&��sčq���C?k��]g�}#uwU�<����~�w�}��g���z׻����…��\r"(��@��F����}�mIH�Z')����GB��ж\r�n���~g=��\r����QG\n��=�1�^l]�j�?��5֊��L���1s*���W�s�5w.���w���d��lϮ��?k����^\r�|_�YT�+IDAT�����fVK�2���F�Wl�.��i]`�K,�^̥�5�c4��]Q�^����]U�r���X���NGa.x +���������E5����---��VM@]"���}1Zy]-�Q�Z�Nm/4�#�u���|nI��Zn("�b��9�yl�s����l����d}�|S\t�^�L�Y$W77�À�:b�ue;(�1�?4���ok���U��1�[2)��`�|߷�����Y[�|��.!,���O��U�@���!�W]`͉�.��s�V=S��*�\�;c.v7��SX��d�r�2�IEND�B`�
\r\n
------WebKitFormBoundarysBXsiFcA9EctGnXo
--
\r\n

'------WebKitFormBoundarynxGLPx8svWTag2Yn\r\nContent-Disposition: form-data; name="familyname"\r\n\r\n小明的家\r\n------WebKitFormBoundarynxGLPx8svWTag2Yn\r\nContent-Disposition: form-data; name="description"\r\n\r\n这里是小明的家啊\r\n------WebKitFormBoundarynxGLPx8svWTag2Yn\r\nContent-Disposition: form-data; name="image"; filename="blob"\r\nContent-Type: image/png\r\n\r\n�PNG\r\n\n\rIHDR,,y}�u IDATx^�i���U�7W���t��m��F4B�4����@J>C��QEQU(�T(4�BgLk�2Ƃ�`�(9��{�}}��O��կ�D�1�α6��VNI둎��k=�|f3�h�c��W��զ��'��������…!;���@�ilƼ��\t�����:焃�Ƒ(�;އ�灢d��Y�1�X��Oߩ��I��=��3����?�؎vR��iO"��zù��@����pWbB�F��&^�U�Ҿ���(�y�gf�3O�N=\tڈs&�s��������*+�.�l�0?F��7wF�و��.�$4bO���τ�X����fx������fX���`�GӇ1�4`��8��FS=�C���������^�1E����G~d�͍6�9������♳g�]UZ�K[��N�4z�<'RH�'�(�����]6xF�f�����%G�~���*���W9�榙4�@\r���Ē��t1�x�ܘ߫�ܥ�)W(թ���y�"'+��JaO��:6�9����*�鸣a�7O�:��N�\t;���X&z̈�9O�������lbo$�)\r�Ο�����bZJ���J+4�kx@)��J���\\r���v�C�4S�"B��!���ܻR�,��x�8�wR��b/p9�������K\��R'
'$-kS��V���3�4l�k��/{��Ë_�RG��;^s\t��͋a����t�bh��X�ek�b*��:p(��u��&!\v�'�_v�9��&����yW���0[{'Ξ������&l�����y��+K������SI�F���DF�x��-�`��Gu��ZM�H��a�Y�cJ�v���O��xH��84������f��S��zY��� X��U5R�7�"����Lb�U��5�Q���5h}#�a|Oik�6,���f��A=�{�9')���0�@SM�*��\W�ƃ�v�m�kа��|���wjw�#W�!<~��J�.<K��^XUCe��\n^���p�4����d�b�:��>{�3��c�Dۣ�q����RJ5�vW�����%�'L0�֨~��o58���kߌ�7�¾#k�X^���~��.^X�X<��ѣag�3�m�ég���/xahq�^v����O<E��"V/n��qp�ԉp�u���<s�2LN�x��F…7���.�ܺM/�6ߣ�UG��ਢ�٬D%,��(��٘� "�^&�Db���5P�I��X��QT�(]�g��If��]Q���&��pS}Q�a�m�z�Y-��P�|j�g��LgFB1��V�B��FO�JƱT8�}TF������~��X���u/)F���W\tp�5����VJ#�T5#X3��_�`}���TU�M��*�Rl;�R�Q���NV'ɩD��(l)~�%-a��p\Sr�T��\nI�\U\t�V�4��b)�`�4�CbQ#e)5*g�J�R�q�"ƅ�V�'*����߶��U�+'�3�ߒW$�=��)-=�JY5#�ݥ(H�%�HUU4U<IKn��5���#V����M$�9�J�/�����Ϩ�\t�y.���g���%�s��R�f]�GW�)U�t�*�U1�K;��싪��q����+W��w�<��[�m�R�S�J-�ouvRJѤ5�7\t�ˉ3M,IEND�B`�\r\n------WebKitFormBoundarynxGLPx8svWTag2Yn--\r\n'

let rest = ''
function onData (chunk: Buffer) {
    let isFinish = false
    const schunk = rest + chunk.toString()
    const fields = schunk.split('------WebKitFormBoundarysBXsiFcA9EctGnXo')
    if (fields.length === 0) {
        rest += schunk
        return isFinish
    }
    for (let index = 0; index < fields.length; index++) {
        const field = fields[index];
        const kvs = field.split('\\r\\n\\r\\n')

        if (index === fields.length - 1) {
            if (filed === '--\\r\\n') {
                isFinish = true
            } else {
                rest = field
            }
        }

    }
}

function onEnd () {

}
